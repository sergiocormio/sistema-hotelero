<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 width="100%" height="100%" creationComplete="init(event)">
	<fx:Metadata> 
		[Event(name="cancelClicked", type="flash.events.Event")]
		//[Event(name="saveSuccess", type="flash.events.Event")]
	</fx:Metadata> 
	<fx:Script>
		<![CDATA[
			import model.AlternativeWrapper;
			import locales.Locale;
			
			import mx.collections.ArrayCollection;
			import mx.containers.TitleWindow;
			import mx.controls.Alert;
			import mx.events.CloseEvent;
			import mx.events.FlexEvent;
			import mx.events.ValidationResultEvent;
			import mx.managers.PopUpManager;
			import mx.rpc.AsyncResponder;
			import mx.rpc.AsyncToken;
			import mx.rpc.events.FaultEvent;
			import mx.rpc.events.ResultEvent;
			import mx.validators.RegExpValidationResult;
			import mx.validators.ValidationResult;
			import mx.validators.Validator;
			
			import resources.Colors;
			import resources.icons.Icons;
			
			import utils.WindowsUtils;
			
			
			[Bindable]
			public var loc:Object;
			
			[Bindable]
			public var alternativeSelected:AlternativeWrapper;
			
			private var titleWindow:TitleWindow;
			
			
			
			private function titleWindow_close(evt:Object):void {
				PopUpManager.removePopUp(titleWindow);
			}
			
			
			
			protected function cancel():void
			{
				dispatchEvent(new Event("cancelClicked"));
			}
			
			
			
			
			protected function init(event:FlexEvent):void
			{
				
				
			}
			
			
			
		]]>
	</fx:Script>
	<fx:Declarations>
	</fx:Declarations>
	<s:Rect width="100%" height="100%">
		<s:stroke>
			<s:SolidColorStroke color="{Colors.YELLOW_COLOR}" weight="1"/>
		</s:stroke>
		<s:fill><s:SolidColor color="{Colors.GRAY_COLOR}"/></s:fill>
	</s:Rect>
	<s:VGroup width="100%" height="100%">
		
		<s:Form>
			<s:layout>
				<s:FormLayout gap="-10"/>
			</s:layout>
			<s:FormItem label="{loc.budget.basePrice}:">
				<s:Label text="{alternativeSelected.alternative.budget.basePrice}" />
			</s:FormItem>
			
			<s:FormItem label="{loc.budget.basePricePlusAddServices}:" >
			</s:FormItem>
			
			<s:DataGrid id="servicesToBeAddedInBasePrice" width="100%" height="100%" dataProvider="{alternativeSelected.alternative.budget.servicesToBeAddedInBasePrice}" 
						alternatingRowColors="{Colors.ALTERNATING_ROW_COLORS}" skinClass="view.skins.CustomDataGridSkin">
				<s:columns>
					<s:ArrayList>
						<s:GridColumn dataField="name" headerText="{loc.budget.detail}"></s:GridColumn>
						<s:GridColumn dataField="price" headerText="{loc.budget.price}"></s:GridColumn>
					</s:ArrayList>
				</s:columns>
			</s:DataGrid>
			
			<s:FormItem />
			
			
			<s:FormItem label="{loc.budget.basePricePlusAllServicesIncludedInBasePrice}:">
				<s:Label text="{alternativeSelected.alternative.budget.basePricePlusAllServicesIncludedInBasePrice}" />
			</s:FormItem>
			
			<s:FormItem label="{loc.budget.additionalServices}:">
			</s:FormItem>
			
			<s:DataGrid id="additionalServices" width="100%" height="100%" dataProvider="{alternativeSelected.alternative.budget.additionalServices}" 
				alternatingRowColors="{Colors.ALTERNATING_ROW_COLORS}" skinClass="view.skins.CustomDataGridSkin">
				<s:columns>
					<s:ArrayList>
						<s:GridColumn dataField="name" headerText="{loc.budget.detail}"></s:GridColumn>
						<s:GridColumn dataField="modality" headerText="{loc.budget.modality}"></s:GridColumn>
						<s:GridColumn dataField="price" headerText="{loc.budget.price}"></s:GridColumn>
					</s:ArrayList>
				</s:columns>
			</s:DataGrid>
			
			<s:FormItem />
			
		</s:Form>
		
		<!-- BUTTONS -->
		<s:HGroup width="100%" height="100%" horizontalAlign="center" verticalAlign="middle">
			<s:Button label="{loc.button.print}" click="cancel()" icon="{Icons.exportReservation}"/>
			<s:Button label="{loc.button.cancel}" click="cancel()" icon="{Icons.cancel}"/>
		</s:HGroup>
		<s:Spacer height="5"/>
	</s:VGroup>
</s:Group>

